<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="form.css">
</head>
<body>
    <form onsubmit="return validateForm()">
        <header class="headerContainer"><h1>HTML 5 Form Input Fields</h1></header>
        <div> 
            <!-- UC1-As a User need to enter a valid First Name - First name starts with Cap and has minimum 3 characters -->
                <label for="fname"> Name:</label>
                <input type="text" id="fname" name="fname" required>
                <error-output class="text-error" for="text"></error-output>
            
        </div>
        <div>
            <label for="password">Enter the password :</label>
            <input type="password" id="password" name="password">
        </div>
        <div>
            <label for="email">email :</label>
            <input type="email" id="email" name="email">
        </div>
        <div>
            <label for="url">url input type:</label>
            <input type="url" id="url" name="url">
        </div>
        <div>
            <label for="number">number input type:</label>
            <input type="number" id="number" name="number">
        </div>
        <div>
            <label for="tel">tel input type:</label>
            <input type="tel" id="tel" name="tel">
        </div>
        <div>
            <label for="search">search input type:</label>
            <input type="search" id="search" name="search">
        </div>
        <div class="nativeDateTimePicker">
            <label for="party">Choose a date and time:</label>
            <input type="datetime-local" id="party" name="bday">
            <span class="validity"></span>
        </div>
        <div>
            <label for="salary">Choose your salary:</label>
            <input type="range" name="salary" id="salary" min="300000" max="500000" step="100" value="400000">
            <output class="salary-output" for="salary">400000</output>
        </div>
        <div>
            <button type="submit">Submit</button>
        </div>
    </form>

    <script src="script.js">
        const text = document.querySelector('#text');
const textError = document.querySelector('.text-error');
text.addEventListener('input', function() {
    let nameRegex = RegExp('^[A-Z]{1}[a-z]{2,}$');
    if (nameRegex.test(text.value))
        textError.textContent = "";
    else
        textError.textContent = "Name is Incorrect";
});

const salary = document.querySelector('#salary');
const output = document.querySelector('.salary-output');
output.textContent = salary.value;
salary.addEventListener('input', function() {output.textContent = salary.value;});

    </script>

   <script>
    function validateForm() 
    {   //name
        var firstName = document.getElementById("fname").value;
        var nameRegex = /^[A-Z][a-z]{2,}$/; // Regex for first name starting with a capital letter and at least 3 characters long
        
        if (!nameRegex.test(firstName)) 
        {
            alert("Please enter a valid first name. First name should start with a capital letter and have minimum 3 characters.");
            return false;
        }
        //email
        var email = document.getElementById("email").value;
        var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/; // Regex for email validation
        
        if (!emailRegex.test(email)) {
            alert("Please enter a valid email address.");
            return false;
        }
        //mobile
        var tel = document.getElementById("tel").value;
        var telRegex = /^\d{2} \d{10}$/; // Regex for mobile number validation
    
        if (!telRegex.test(tel)) {
        alert("Please enter a valid mobile number in the format '91 1234567890'.");
        return false;
    }
      //Password 
      var password = document.getElementById("password").value;
    
      // Rule 1: Minimum 8 characters
      if (password.length < 8) 
      {
        alert("Password must be at least 8 characters long.");
        return false;
      }
    
    // Rule 2: Should have at least 1 uppercase letter
     var uppercaseRegex = /[A-Z]/;
     if (!uppercaseRegex.test(password)) 
    {
        alert("Password must contain at least one uppercase letter.");
        return false;
    }
    
    // Rule 3: Should have at least 1 numeric digit
    var numericRegex = /[0-9]/;
    if (!numericRegex.test(password)) {
        alert("Password must contain at least one numeric digit.");
        return false;
    }
    
    // Rule 4: Has exactly 1 special character
    var specialCharRegex = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;
    if ((password.match(specialCharRegex) || []).length !== 1) {
        alert("Password must contain exactly one special character.");
        return false;
    }
        return true;
    }
    </script>

    </head>
    <body>
        
    </body>
</body>
</html>